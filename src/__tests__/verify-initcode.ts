/**
 * Verify initCode hash computation
 */

import { keccak256 } from "viem";

// From the test output - Request Arguments
const factory = "0xd703aaE79538628d27099B8c4f621bE4CCd142d5";
const factoryData = "0xc5265d5d000000000000000000000000aac5d4240af87249b3f71bc8e4a2cae074a3e419000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000002bc00000000000000000000000000000000000000000000000000000000000001643c3b752b01bacf266e1b23de6a73719599f9561fba23ca16980000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b23589b5d0b3f6750fec388a0e61da68c12909c9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

// Compute initCode
const initCode = factory + factoryData.slice(2);
console.log("initCode length:", initCode.length);
console.log("initCode hash:", keccak256(initCode as any));

// Our computed hash from getStubSignature was:
console.log("\nExpected (from test output): 0xd57266d5b4fe6967cf76eafab531574a1ab92f1481f3e36331c4957968d599f6");
